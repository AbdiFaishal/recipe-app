(this["webpackJsonprecipe-app"]=this["webpackJsonprecipe-app"]||[]).push([[0],{39:function(e,t,a){e.exports=a.p+"static/media/logo.562b5911.png"},41:function(e,t,a){e.exports=a.p+"static/media/refresh.c35a4058.png"},45:function(e,t,a){e.exports=a(74)},50:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),i=a.n(r),l=(a(50),a(37)),s=a(38),o=a(44),u=a(43),p=a(39),m=a.n(p),d=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{src:m.a,alt:"",className:"header__logo"}))},_=a(16),E=a.n(_),f=a(22),h=a(23),g=a.n(h),v="https://cors-anywhere.herokuapp.com/",b=function(e){return{type:"IS_INPUT_EMPTY",payload:e}},N=function(e){return function(){var t=Object(f.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_RDETAIL_PENDING"}),t.prev=1,t.next=4,g.a.get("".concat(v,"https://recipesapi.herokuapp.com/api/get?rId=").concat(e));case 4:n=t.sent,a({type:"FETCH_DETAIL_SUCCESS",payload:n.data.recipe}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"FETCH_DETAIL_FAILED",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return{type:"HANDLE_MODAL",payload:e}},j=a(1),y=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.searchField.emptyInput})),a=Object(j.c)((function(e){return e.searchField.searchField})),n=t?c.a.createElement("p",{className:"input__validation"},"Please fill in the form above"):null;return c.a.createElement("form",{className:"search"},c.a.createElement("input",{value:a,type:"text",className:"search__field",placeholder:"Search over your favorites recipes...",onChange:function(t){e({type:"CHANGE_SEARCH_FIELD",payload:t.target.value})}}),n,c.a.createElement("button",{className:"btn search__btn",onClick:function(t){var n;t.preventDefault(),""===a?e(b(!0)):""!==a&&(e((n=a,function(){var e=Object(f.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_RECIPES_PENDING"}),e.prev=1,e.next=4,g.a.get("".concat(v,"https://recipesapi.herokuapp.com/api/search?q=").concat(n));case 4:a=e.sent,t({type:"FETCH_RECIPES_SUCCESS",payload:{data:a.data.recipes,count:a.data.count}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_RECIPES_FAILED",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())),e({type:"RESET_SEARCH_FIELD"}),e(b(!1)))}},c.a.createElement("i",{className:"fas fa-search"}),c.a.createElement("span",null,"Search")))},k=a(5),D=a(11),I=function(){return[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=[];return e.length>t?(e.split(" ").reduce((function(e,n){return e+n.length<=t&&a.push(n),e+n.length}),0),"".concat(a.join(" "),"...")):e}]},C=function(){return function(){document.querySelectorAll(".results__link").forEach((function(e){return e.classList.remove("result__link--active")})),document.querySelectorAll(".likes__link").forEach((function(e){return e.classList.remove("result__link--active")}))}},S=function(e){var t=e.id,a=e.title,n=e.author,r=e.img,i=Object(j.b)(),l=I(),s=Object(k.a)(l,1)[0],o=C();return c.a.createElement("li",null,c.a.createElement(D.b,{to:"/recipe-app/".concat(t),onClick:function(){return function(e){i(N(e)),o(),document.querySelector(".results__pages .list-1").classList.add("active"),document.querySelector(".results__pages .link-1").classList.add("active"),document.querySelector('.likes__link[href="/recipe-app/'.concat(e,'"]')).classList.add("result__link--active")}(t)},className:"likes__link"},c.a.createElement("figure",{className:"likes__fig"},c.a.createElement("img",{src:r,alt:"Test"})),c.a.createElement("div",{className:"likes__data"},c.a.createElement("h4",{className:"likes__name"},s(a)),c.a.createElement("p",{className:"likes__author"},n))))},P=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.handleLikes.likedRecipes})),a=t.length?"active":null;return c.a.createElement("div",{className:"likes"},c.a.createElement("div",{className:"likes__field"},c.a.createElement("i",{className:"fas fa-heart ".concat(a)})),c.a.createElement("div",{className:"likes__panel"},c.a.createElement("ul",{className:"likes__list"},t.length>0?t.map((function(e,t){return c.a.createElement(S,{key:e.id,id:e.id,img:e.img,title:e.title,author:e.author})})):c.a.createElement("p",{className:"empty__favorite"},"Your have no favorite recipe")),t.length?c.a.createElement("button",{onClick:function(){return e(O(!0))},className:"btn delete__likes"},c.a.createElement("i",{className:"fas fa-trash"}),c.a.createElement("span",null,"Clear All")):null))},A=function(){return c.a.createElement("header",{className:"header"},c.a.createElement(d,null),c.a.createElement(y,null),c.a.createElement(P,null))},L=function(e){var t=e.image_url,a=e.publisher,n=e.recipe_id,r=e.title,i=I(),l=Object(k.a)(i,1)[0],s=Object(j.b)(),o=C();return c.a.createElement("li",null,c.a.createElement(D.b,{to:"/recipe-app/".concat(n),onClick:function(e){return function(e,t){s(N(t)),o(),document.querySelector('.results__link[href="/recipe-app/'.concat(t,'"]')).classList.add("result__link--active")}(0,n)},className:"results__link"},c.a.createElement("figure",{className:"results__fig"},c.a.createElement("img",{src:t,alt:r})),c.a.createElement("div",{className:"results__data"},c.a.createElement("h4",{className:"results__name"},l(r)),c.a.createElement("p",{className:"results__author"},a))))},R=a(41),F=a.n(R),T=function(){return c.a.createElement("div",{className:"loading-spinner"},c.a.createElement("img",{className:"spin spinner-icon",src:F.a,alt:""}))},w=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],c=t[1],r=Object(j.c)((function(e){return e.getRecipes.recipes})),i=Object(j.c)((function(e){return e.handlePagination.currentPage})),l=Object(j.c)((function(e){return e.handlePagination.listPerPage}));return Object(n.useEffect)((function(){var e=i*l,t=e-l;c(r.slice(t,e))}),[r,i,l]),[a]},H=function(){var e=w(),t=Object(k.a)(e,1)[0],a=Object(j.c)((function(e){return e.getRecipes.isPending})),n=Object(j.c)((function(e){return e.getRecipes.error})),r=Object(j.c)((function(e){return e.getRecipes.recipeAPIResult}));return a?c.a.createElement(T,null):0===r?c.a.createElement("p",{className:"result__none"},"Sorry, no result found..."):""!==n?c.a.createElement("p",{className:"result__none"},n):c.a.createElement("ul",{className:"results__list"},t.map((function(e,t){return c.a.createElement(L,Object.assign({key:t},e))})))},x=a(4),q=function(){return[function(){console.log("removePaginationClass"),document.querySelectorAll(".results__pages li").forEach((function(e){return e.classList.remove("active")})),document.querySelectorAll(".results__pages a").forEach((function(e){return e.classList.remove("active")})),document.querySelectorAll(".results__link").forEach((function(e){return e.classList.remove("result__link--active")}))}]},G=function(){var e=[];return[e,function(t,a){for(var n=1;n<=Math.ceil(t/a);n++)e.push(n)}]},M=function(){var e=q(),t=Object(k.a)(e,1)[0],a=G(),r=Object(k.a)(a,2),i=r[0],l=r[1],s=Object(j.b)(),o=Object(j.c)((function(e){return e.handlePagination.listPerPage})),u=Object(j.c)((function(e){return e.getRecipes.recipes}));l(u.length,o);var p=Object(x.e)().pathname;return Object(n.useEffect)((function(){u.length>0&&(document.querySelector(".results__pages .list-1").classList.add("active"),document.querySelector(".results__pages .link-1").classList.add("active"))}),[u]),c.a.createElement("div",{className:"results__pages"},c.a.createElement("ul",null,i.map((function(e){return c.a.createElement("li",{className:"list-".concat(e),key:e},c.a.createElement(D.b,{to:p,className:"link-".concat(e),onClick:function(a){return function(e,a){s(function(e){return{type:"CHANGE_PAGINATION_PAGE",payload:e}}(e)),t(),a.target.classList.add("active"),a.target.parentNode.classList.add("active")}(e,a)}},e))}))))},U=function(){var e=Object(j.c)((function(e){return e.getRecipes.isPending}));return c.a.createElement("div",{className:"results"},c.a.createElement(H,null),e?null:c.a.createElement(M,null))},K=function(e){var t=e.recipeDetail;return c.a.createElement("figure",{className:"recipe__fig"},c.a.createElement("img",{src:t.image_url,alt:t.title,className:"recipe__img"}),c.a.createElement("h1",{className:"recipe__title"},c.a.createElement("span",null,t.title)))},J=a(20),Y=function(){return[function(e,t){return-1!==t.findIndex((function(t){return t.id===e}))},function(e,t){var a=t.findIndex((function(t){return t.id===e}));t.splice(a,1)}]},B=function(){var e=Object(n.useState)(),t=Object(k.a)(e,2),a=t[0],c=t[1];return[a,function(e){var t=e.length,a=Math.ceil(t/3);c(10*a)}]},W=function(e){var t=Object(x.f)().id,a=Object(j.b)(),r=Object(j.c)((function(e){return e.getRecipeDetail.recipeDetail})),i=Object(j.c)((function(e){return e.handleLikes.likedRecipes})),l=Y(),s=Object(k.a)(l,2),o=s[0],u=s[1],p=B(),m=Object(k.a)(p,2),d=m[0],_=m[1],E=r.ingredients;Object(n.useEffect)((function(){_(E)}),[E,_]);return c.a.createElement("div",{className:"recipe__details"},c.a.createElement("div",{className:"recipe__info"},c.a.createElement("i",{className:"recipe__info-icon fa fa-stopwatch"}),c.a.createElement("span",{className:"recipe__info-data recipe__info-data--minutes"},d),c.a.createElement("span",{className:"recipe__info-text"}," minutes")),c.a.createElement("div",{className:"recipe__info"},c.a.createElement("i",{className:"recipe__info-icon fa fa-users"}),c.a.createElement("span",{className:"recipe__info-data recipe__info-data--people"},"4"),c.a.createElement("span",{className:"recipe__info-text"}," servings"),c.a.createElement("div",{className:"recipe__info-buttons"})),c.a.createElement("button",{onClick:function(){return function(e){var t=e,n=Object(J.a)(i);if(o(t,i))u(e,n),a(function(e){return{type:"DELETE_LIKE",payload:e}}(n));else{var c={id:r.recipe_id,title:r.title,author:r.publisher,img:r.image_url};a({type:"ADD_LIKE",payload:c})}}(t)},className:"recipe__love"},c.a.createElement("i",{className:o(t,i)?"fas fa-heart":"far fa-heart"})))},$=function(e){var t=e.ingredient;return c.a.createElement("li",{className:"recipe__item"},c.a.createElement("i",{className:"recipe__icon far fa-check-circle"}),c.a.createElement("div",{className:"recipe__count"}),c.a.createElement("div",{className:"recipe__ingredient"},c.a.createElement("span",{className:"recipe__unit"}),t))},z=function(e){var t=e.recipeDetail;return c.a.createElement("ul",{className:"recipe__ingredient-list"},t.ingredients?t.ingredients.map((function(e,t){return c.a.createElement($,{key:t,ingredient:e})})):null)},Q=function(e){var t=e.recipeDetail;return c.a.createElement("div",{className:"recipe__ingredients"},c.a.createElement(z,{recipeDetail:t}),c.a.createElement("button",{className:"btn-small recipe__btn"},c.a.createElement("span",null,"Add Review (coming soon)")))},V=function(e){var t=e.recipeDetail;return c.a.createElement("div",{className:"recipe__directions"},c.a.createElement("h2",{className:"heading-2"},"How to cook it"),c.a.createElement("p",{className:"recipe__directions-text"},"This recipe was carefully designed and tested by",c.a.createElement("span",{className:"recipe__by"}," ",t.publisher),". Please check out directions at their website."),c.a.createElement("a",{className:"btn-small recipe__btn",href:t.source_url,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("span",null,"Directions"),c.a.createElement("i",{className:"fa fa-location-arrow"})))},X=function(){var e=Object(j.c)((function(e){return e.getRecipeDetail.recipeDetail}));return Object(j.c)((function(e){return e.getRecipeDetail.isPending}))?c.a.createElement(T,null):e.recipe_id?c.a.createElement("div",{className:"recipe"},c.a.createElement(K,{recipeDetail:e}),c.a.createElement(W,{recipeDetail:e}),c.a.createElement(Q,{recipeDetail:e}),c.a.createElement(V,{recipeDetail:e})):null},Z=function(){var e=Object(j.b)();return Object(j.c)((function(e){return e.handleLikes.modalOpen}))?c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"confirm__modal"},c.a.createElement("div",{className:"confirmation-text"},c.a.createElement("p",null,"Are you sure?")),c.a.createElement("div",{className:"btn-group-modal"},c.a.createElement("button",{className:"btn-cancel",onClick:function(){return e(O(!1))}},"Cancel"),c.a.createElement("button",{className:"btn-ok",onClick:function(){return e({type:"HANDLE_CONFIRM"})}},"OK")))):null},ee=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).persistData=function(){var t=e.state.likedRecipes;localStorage.setItem("likedRecipes",JSON.stringify(t))},e.readStorage=function(){var t=JSON.parse(localStorage.getItem("likedRecipes"));t&&e.setState({likedRecipes:t})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.readStorage()}},{key:"render",value:function(){return c.a.createElement(D.a,null,c.a.createElement("div",{className:"container"},c.a.createElement(x.a,{path:"/recipe-app",component:A}),c.a.createElement(x.a,{path:"/recipe-app"},c.a.createElement(Z,null)),c.a.createElement(x.a,{path:"/recipe-app",component:U}),c.a.createElement(x.a,{path:"/recipe-app/:id",component:X})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=a(12),ae=a(42),ne=a(2),ce={searchField:"",emptyInput:!1},re={isPending:!1,recipes:[],recipeAPIResult:null,error:""},ie={isPending:!1,recipeDetail:{},error:""},le={likedRecipes:[],modalOpen:!1},se={currentPage:1,listPerPage:10},oe=Object(te.c)({searchField:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SEARCH_FIELD":return Object(ne.a)(Object(ne.a)({},e),{},{searchField:t.payload,emptyInput:!1});case"RESET_SEARCH_FIELD":return Object(ne.a)(Object(ne.a)({},e),{},{searchField:""});case"IS_INPUT_EMPTY":return Object(ne.a)(Object(ne.a)({},e),{},{emptyInput:t.payload});default:return e}},getRecipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RECIPES_PENDING":return Object(ne.a)(Object(ne.a)({},e),{},{isPending:!0});case"FETCH_RECIPES_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{recipes:t.payload.data,isPending:!1,recipeAPIResult:t.payload.count,error:""});case"FETCH_RECIPES_FAILED":return Object(ne.a)(Object(ne.a)({},e),{},{error:t.payload,isPending:!1});default:return e}},getRecipeDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RDETAIL_PENDING":return Object(ne.a)(Object(ne.a)({},e),{},{isPending:!0});case"FETCH_DETAIL_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{recipeDetail:t.payload,isPending:!1});case"FETCH_DETAIL_FAILED":return Object(ne.a)(Object(ne.a)({},e),{},{errorDetail:t.payload,isPending:!1});default:return e}},handleLikes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LIKE":return Object(ne.a)(Object(ne.a)({},e),{},{likedRecipes:[].concat(Object(J.a)(e.likedRecipes),[t.payload])});case"DELETE_LIKE":return Object(ne.a)(Object(ne.a)({},e),{},{likedRecipes:t.payload});case"HANDLE_CONFIRM":return Object(ne.a)(Object(ne.a)({},e),{},{likedRecipes:[],modalOpen:!1});case"HANDLE_MODAL":return Object(ne.a)(Object(ne.a)({},e),{},{modalOpen:t.payload});default:return e}},handlePagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAGINATION_PAGE":return Object(ne.a)(Object(ne.a)({},e),{},{currentPage:t.payload});default:return e}}}),ue=Object(te.d)(oe,Object(te.a)(ae.a));i.a.render(c.a.createElement(j.a,{store:ue},c.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.d27e7c2f.chunk.js.map