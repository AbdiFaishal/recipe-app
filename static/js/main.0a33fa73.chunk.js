(this["webpackJsonprecipe-app"]=this["webpackJsonprecipe-app"]||[]).push([[0],{37:function(e,t,a){e.exports=a.p+"static/media/logo.562b5911.png"},39:function(e,t,a){e.exports=a.p+"static/media/refresh.c35a4058.png"},41:function(e,t,a){e.exports=a(70)},46:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),i=a.n(r),l=(a(46),a(37)),s=a.n(l),u=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{src:s.a,alt:"",className:"header__logo"}))},o=a(16),p=a.n(o),m=a(22),d=a(23),E=a.n(d),_="https://cors-anywhere.herokuapp.com/",f=function(e){return{type:"IS_INPUT_EMPTY",payload:e}},h=function(e){return function(){var t=Object(m.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_RDETAIL_PENDING"}),t.prev=1,t.next=4,E.a.get("".concat(_,"https://recipesapi.herokuapp.com/api/get?rId=").concat(e));case 4:n=t.sent,a({type:"FETCH_DETAIL_SUCCESS",payload:n.data.recipe}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"FETCH_DETAIL_FAILED",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return{type:"HANDLE_MODAL",payload:e}},g=function(e){return{type:"CHANGE_PAGINATION_PAGE",payload:e}},v=a(1),N=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.searchField.emptyInput})),a=Object(v.c)((function(e){return e.searchField.searchField})),n=t?c.a.createElement("p",{className:"input__validation"},"Please fill in the form above"):null;return c.a.createElement("form",{className:"search"},c.a.createElement("input",{value:a,type:"text",className:"search__field",placeholder:"Search over your favorites recipes...",onChange:function(t){e({type:"CHANGE_SEARCH_FIELD",payload:t.target.value})}}),n,c.a.createElement("button",{className:"btn search__btn",onClick:function(t){var n;t.preventDefault(),""===a?e(f(!0)):""!==a&&(e((n=a,function(){var e=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_RECIPES_PENDING"}),e.prev=1,e.next=4,E.a.get("".concat(_,"https://recipesapi.herokuapp.com/api/search?q=").concat(n));case 4:a=e.sent,t({type:"FETCH_RECIPES_SUCCESS",payload:{data:a.data.recipes,count:a.data.count}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_RECIPES_FAILED",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())),e({type:"RESET_SEARCH_FIELD"}),e(f(!1)),e(g(1)))}},c.a.createElement("i",{className:"fas fa-search"}),c.a.createElement("span",null,"Search")))},O=a(5),j=a(11),y=function(){return[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=[];return e.length>t?(e.split(" ").reduce((function(e,n){return e+n.length<=t&&a.push(n),e+n.length}),0),"".concat(a.join(" "),"...")):e}]},k=function(){return function(){document.querySelectorAll(".results__link").forEach((function(e){return e.classList.remove("result__link--active")})),document.querySelectorAll(".likes__link").forEach((function(e){return e.classList.remove("result__link--active")}))}},D=function(e){var t=e.id,a=e.title,n=e.author,r=e.img,i=Object(v.b)(),l=y(),s=Object(O.a)(l,1)[0],u=k();return c.a.createElement("li",null,c.a.createElement(j.b,{to:"/recipe-app/".concat(t),onClick:function(){return function(e){i(h(e)),u(),document.querySelector('.likes__link[href="/recipe-app/'.concat(e,'"]')).classList.add("result__link--active")}(t)},className:"likes__link"},c.a.createElement("figure",{className:"likes__fig"},c.a.createElement("img",{src:r,alt:"Test"})),c.a.createElement("div",{className:"likes__data"},c.a.createElement("h4",{className:"likes__name"},s(a)),c.a.createElement("p",{className:"likes__author"},n))))},P=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.handleLikes.likedRecipes})),a=t.length?"active":null;return c.a.createElement("div",{className:"likes"},c.a.createElement("div",{className:"likes__field"},c.a.createElement("i",{className:"fas fa-heart ".concat(a)})),c.a.createElement("div",{className:"likes__panel"},c.a.createElement("ul",{className:"likes__list"},t.length>0?t.map((function(e,t){return c.a.createElement(D,{key:e.id,id:e.id,img:e.img,title:e.title,author:e.author})})):c.a.createElement("p",{className:"empty__favorite"},"Your have no favorite recipe")),t.length>0&&c.a.createElement("button",{onClick:function(){return e(b(!0))},className:"btn delete__likes"},c.a.createElement("i",{className:"fas fa-trash"}),c.a.createElement("span",null,"Clear All"))))},I=function(){return c.a.createElement("header",{className:"header"},c.a.createElement(u,null),c.a.createElement(N,null),c.a.createElement(P,null))},C=function(e){var t=e.image_url,a=e.publisher,n=e.recipe_id,r=e.title,i=y(),l=Object(O.a)(i,1)[0],s=Object(v.b)(),u=k();return c.a.createElement("li",null,c.a.createElement(j.b,{to:"/recipe-app/".concat(n),onClick:function(e){return function(e,t){s(h(t)),u(),document.querySelector('.results__link[href="/recipe-app/'.concat(t,'"]')).classList.add("result__link--active")}(0,n)},className:"results__link"},c.a.createElement("figure",{className:"results__fig"},c.a.createElement("img",{src:t,alt:r})),c.a.createElement("div",{className:"results__data"},c.a.createElement("h4",{className:"results__name"},l(r)),c.a.createElement("p",{className:"results__author"},a))))},A=a(39),L=a.n(A),S=function(){return c.a.createElement("div",{className:"loading-spinner"},c.a.createElement("img",{className:"spin spinner-icon",src:L.a,alt:""}))},R=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],c=t[1],r=Object(v.c)((function(e){return e.getRecipes.recipes})),i=Object(v.c)((function(e){return e.handlePagination.currentPage})),l=Object(v.c)((function(e){return e.handlePagination.listPerPage}));return console.log("currentPage",i),console.log("listPerPage",l),Object(n.useEffect)((function(){var e=i*l,t=e-l;c(r.slice(t,e))}),[r,i,l]),[a]},F=function(){var e=R(),t=Object(O.a)(e,1)[0],a=Object(v.c)((function(e){return e.getRecipes.isPending})),n=Object(v.c)((function(e){return e.getRecipes.error})),r=Object(v.c)((function(e){return e.getRecipes.recipeAPIResult}));return a?c.a.createElement(S,null):0===r?c.a.createElement("p",{className:"result__none"},"Sorry, no result found..."):""!==n?c.a.createElement("p",{className:"result__none"},n):c.a.createElement("ul",{className:"results__list"},t.map((function(e,t){return c.a.createElement(C,Object.assign({key:t},e))})))},T=a(4),H=function(){return[function(){document.querySelectorAll(".results__pages li").forEach((function(e){return e.classList.remove("active")})),document.querySelectorAll(".results__pages a").forEach((function(e){return e.classList.remove("active")})),document.querySelectorAll(".results__link").forEach((function(e){return e.classList.remove("result__link--active")}))}]},w=function(){var e=[];return[e,function(t,a){for(var n=1;n<=Math.ceil(t/a);n++)e.push(n)}]},x=function(){var e=H(),t=Object(O.a)(e,1)[0],a=w(),r=Object(O.a)(a,2),i=r[0],l=r[1],s=Object(v.b)(),u=Object(v.c)((function(e){return e.handlePagination.listPerPage})),o=Object(v.c)((function(e){return e.getRecipes.recipes}));l(o.length,u);var p=Object(T.e)().pathname;return Object(n.useEffect)((function(){o.length>0&&(document.querySelectorAll(".results__pages li")[0].classList.add("active"),document.querySelectorAll(".results__pages a")[0].classList.add("active"))}),[o]),c.a.createElement("div",{className:"results__pages"},c.a.createElement("ul",null,i.map((function(e){return c.a.createElement("li",{key:e},c.a.createElement(j.b,{to:p,onClick:function(a){return function(e,a){s(g(e)),t(),a.target.classList.add("active"),a.target.parentNode.classList.add("active")}(e,a)}},e))}))))},G=function(){var e=Object(v.c)((function(e){return e.getRecipes.isPending}));return c.a.createElement("div",{className:"results"},c.a.createElement(F,null),e?null:c.a.createElement(x,null))},q=function(e){var t=e.recipeDetail;return c.a.createElement("figure",{className:"recipe__fig"},c.a.createElement("img",{src:t.image_url,alt:t.title,className:"recipe__img"}),c.a.createElement("h1",{className:"recipe__title"},c.a.createElement("span",null,t.title)))},M=a(20),U=function(){return[function(e,t){return-1!==t.findIndex((function(t){return t.id===e}))},function(e,t){var a=t.findIndex((function(t){return t.id===e}));t.splice(a,1)}]},K=function(){var e=Object(n.useState)(),t=Object(O.a)(e,2),a=t[0],c=t[1];return[a,function(e){var t=e.length,a=Math.ceil(t/3);c(10*a)}]},Y=function(e){var t=Object(T.f)().id,a=Object(v.b)(),r=Object(v.c)((function(e){return e.getRecipeDetail.recipeDetail})),i=Object(v.c)((function(e){return e.handleLikes.likedRecipes})),l=U(),s=Object(O.a)(l,2),u=s[0],o=s[1],p=K(),m=Object(O.a)(p,2),d=m[0],E=m[1],_=r.ingredients;Object(n.useEffect)((function(){E(_)}),[_,E]);return c.a.createElement("div",{className:"recipe__details"},c.a.createElement("div",{className:"recipe__info"},c.a.createElement("i",{className:"recipe__info-icon fa fa-stopwatch"}),c.a.createElement("span",{className:"recipe__info-data recipe__info-data--minutes"},d),c.a.createElement("span",{className:"recipe__info-text"}," minutes")),c.a.createElement("div",{className:"recipe__info"},c.a.createElement("i",{className:"recipe__info-icon fa fa-users"}),c.a.createElement("span",{className:"recipe__info-data recipe__info-data--people"},"4"),c.a.createElement("span",{className:"recipe__info-text"}," servings"),c.a.createElement("div",{className:"recipe__info-buttons"})),c.a.createElement("button",{onClick:function(){return function(e){var t=e,n=Object(M.a)(i);if(u(t,i))o(e,n),a(function(e){return{type:"DELETE_LIKE",payload:e}}(n));else{var c={id:r.recipe_id,title:r.title,author:r.publisher,img:r.image_url};a({type:"ADD_LIKE",payload:c})}}(t)},className:"recipe__love"},c.a.createElement("i",{className:u(t,i)?"fas fa-heart":"far fa-heart"})))},B=function(e){var t=e.ingredient;return c.a.createElement("li",{className:"recipe__item"},c.a.createElement("i",{className:"recipe__icon far fa-check-circle"}),c.a.createElement("div",{className:"recipe__count"}),c.a.createElement("div",{className:"recipe__ingredient"},c.a.createElement("span",{className:"recipe__unit"}),t))},J=function(e){var t=e.recipeDetail;return c.a.createElement("ul",{className:"recipe__ingredient-list"},t.ingredients&&t.ingredients.map((function(e,t){return c.a.createElement(B,{key:t,ingredient:e})})))},W=function(e){var t=e.recipeDetail;return c.a.createElement("div",{className:"recipe__ingredients"},c.a.createElement(J,{recipeDetail:t}),c.a.createElement("button",{className:"btn-small recipe__btn"},c.a.createElement("span",null,"Add Review (coming soon)")))},$=function(e){var t=e.recipeDetail;return c.a.createElement("div",{className:"recipe__directions"},c.a.createElement("h2",{className:"heading-2"},"How to cook it"),c.a.createElement("p",{className:"recipe__directions-text"},"This recipe was carefully designed and tested by",c.a.createElement("span",{className:"recipe__by"}," ",t.publisher),". Please check out directions at their website."),c.a.createElement("a",{className:"btn-small recipe__btn",href:t.source_url,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("span",null,"Directions"),c.a.createElement("i",{className:"fa fa-location-arrow"})))},z=function(){var e=Object(v.c)((function(e){return e.getRecipeDetail.recipeDetail}));return Object(v.c)((function(e){return e.getRecipeDetail.isPending}))?c.a.createElement(S,null):e.recipe_id?c.a.createElement("div",{className:"recipe"},c.a.createElement(q,{recipeDetail:e}),c.a.createElement(Y,{recipeDetail:e}),c.a.createElement(W,{recipeDetail:e}),c.a.createElement($,{recipeDetail:e})):null},Q=function(){var e=Object(v.b)();return Object(v.c)((function(e){return e.handleLikes.modalOpen}))?c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"confirm__modal"},c.a.createElement("div",{className:"confirmation-text"},c.a.createElement("p",null,"Are you sure?")),c.a.createElement("div",{className:"btn-group-modal"},c.a.createElement("button",{className:"btn-cancel",onClick:function(){return e(b(!1))}},"Cancel"),c.a.createElement("button",{className:"btn-ok",onClick:function(){return e({type:"HANDLE_CONFIRM"})}},"OK")))):null},V=function(){return c.a.createElement(j.a,null,c.a.createElement("div",{className:"container"},c.a.createElement(T.a,{path:"/recipe-app",component:I}),c.a.createElement(T.a,{path:"/recipe-app"},c.a.createElement(Q,null)),c.a.createElement(T.a,{path:"/recipe-app",component:G}),c.a.createElement(T.a,{path:"/recipe-app/:id",component:z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(12),Z=a(40),ee=a(2),te={searchField:"",emptyInput:!1},ae={isPending:!1,recipes:[],recipeAPIResult:null,error:""},ne={isPending:!1,recipeDetail:{},error:""},ce={likedRecipes:[],modalOpen:!1},re={currentPage:1,listPerPage:10},ie=Object(X.c)({searchField:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SEARCH_FIELD":return Object(ee.a)(Object(ee.a)({},e),{},{searchField:t.payload,emptyInput:!1});case"RESET_SEARCH_FIELD":return Object(ee.a)(Object(ee.a)({},e),{},{searchField:""});case"IS_INPUT_EMPTY":return Object(ee.a)(Object(ee.a)({},e),{},{emptyInput:t.payload});default:return e}},getRecipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RECIPES_PENDING":return Object(ee.a)(Object(ee.a)({},e),{},{isPending:!0});case"FETCH_RECIPES_SUCCESS":return Object(ee.a)(Object(ee.a)({},e),{},{recipes:t.payload.data,isPending:!1,recipeAPIResult:t.payload.count,error:""});case"FETCH_RECIPES_FAILED":return Object(ee.a)(Object(ee.a)({},e),{},{error:t.payload,isPending:!1});default:return e}},getRecipeDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RDETAIL_PENDING":return Object(ee.a)(Object(ee.a)({},e),{},{isPending:!0});case"FETCH_DETAIL_SUCCESS":return Object(ee.a)(Object(ee.a)({},e),{},{recipeDetail:t.payload,isPending:!1});case"FETCH_DETAIL_FAILED":return Object(ee.a)(Object(ee.a)({},e),{},{errorDetail:t.payload,isPending:!1});default:return e}},handleLikes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LIKE":return Object(ee.a)(Object(ee.a)({},e),{},{likedRecipes:[].concat(Object(M.a)(e.likedRecipes),[t.payload])});case"DELETE_LIKE":return Object(ee.a)(Object(ee.a)({},e),{},{likedRecipes:t.payload});case"HANDLE_CONFIRM":return Object(ee.a)(Object(ee.a)({},e),{},{likedRecipes:[],modalOpen:!1});case"HANDLE_MODAL":return Object(ee.a)(Object(ee.a)({},e),{},{modalOpen:t.payload});default:return e}},handlePagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAGINATION_PAGE":return Object(ee.a)(Object(ee.a)({},e),{},{currentPage:t.payload});default:return e}}}),le=Object(X.d)(ie,Object(X.a)(Z.a));i.a.render(c.a.createElement(v.a,{store:le},c.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.0a33fa73.chunk.js.map